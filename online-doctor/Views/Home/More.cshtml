@model online_doctor.Models.Doctor

@{
    ViewData["Title"] = "More";
}

<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">
            @* О докторе *@
            <div class="row">
                <div class="col-md-6">
                    <h1>@Html.DisplayFor(model => model.FIO)</h1>
                    <p>@Html.DisplayFor(model => model.About)</p>
                    <p>@Html.DisplayFor(model => model.Education)</p>
                </div>
                <div class="col-md-6">
                    <img class="img img-details" src="@Url.Content("~/images/" + Model.Photo)" width="200" height="200" />
                </div>
            </div>

            @* Часы приёма *@
            <table class="table table-striped table table-bordered">
                <thead class="thead">
                <th>День недели:</th>
                <th>Часы работы:</th>
                <tbody class="table table-striped">
                    @foreach (var item in Model.DoctorWorkingHours)
                    {
                        <tr>
                            <td>@Html.DisplayFor(modelItem => item.Day)</td>
                            <td>@Html.DisplayFor(modelItem => item.StartHour) - @Html.DisplayFor(modelItem => item.EndHour)</td>
                        </tr>
                    }
                </tbody>
            </table>

            @if (ViewBag.RoleID == 2)
            {
                @Html.ActionLink("Записаться", "CreateAppoitment", "Home", new { userID = ViewBag.UserID, doctorID = Model.DoctorId }, new { @class = "btn btn-success" })

                @* Оценка доктора *@
            if (ViewBag.Rating == null)
            {
            <nav>
                @using (Html.BeginForm("EvaluateDoctor", "Home"))
                {
                <ul class="list-group list-group-horizontal">
                    <div class="form-group">
                        <input type="hidden" asp-for="DoctorId" class="form-control" />
                        <span asp-validation-for="DoctorId" class="text-danger"></span>
                    </div>
                    @for (int ratingId = 1; ratingId <= 4; ++ratingId)
                    {
                        <li class="list-group-item">
                            <div class="form-check form-check-inline">
                                @Html.RadioButton("rating", ratingId, false, new { @rating = ratingId })
                                <label class="form-check-label">@ratingId.ToString()</label>
                            </div>
                        </li>
                    }
                    <li class="list-group-item">
                        <div class="form-check form-check-inline">
                            @Html.RadioButton("rating", 5, true, new { @rating = 5 })
                            <label class="form-check-label">5</label>
                        </div>
                    </li>
                    <li class="list-group-item">
                        <input type="submit" value="Отправить" class="btn btn-success" />
                    </li>
                </ul>
                }
            </nav>
            }
            else
            {
                <p>Рейтинг: @Model.Rating /5</p>
            }

                @* Поле комментариев *@
                <form role="form">
                    <div class="form-group">
                        <label for="exampleInputEmail1">Comment:</label>
                        <input class="form-control" id="exampleInputEmail1" />
                    </div>
                    <button type="submit" class="btn btn-primary">Post</button>
                </form>
            }
        </div>
    </div>
</div>